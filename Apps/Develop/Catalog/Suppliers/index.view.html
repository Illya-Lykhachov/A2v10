
<div id="$(RootId)" style="min-height:400px">
    <h3>DATA grid with client paging/sorting/filtering</h3>


    <collection-view :items-source="Customers" :page-size="3" :initial-filter="{Text:''}" run-at="server">
        <template scope="parent">
            <div style="height:300px;overflow:auto;background-color:lightyellow">
                <data-grid :items-source="parent.itemsSource" :striped="true" :pager="true" filter-fields="filter,state"
                           :border="true" :hover="true" grid="vertical" sort="server" :route-query="$query" mark="$rowMark" mark-style="marker">
                    <data-grid-column header="index" content="$index" align="right"></data-grid-column>
                    <data-grid-column header="Id" content="Id" width="0%" align="right"></data-grid-column>
                    <data-grid-column header="Name" content="Name"></data-grid-column>
                    <data-grid-column header="AmountW" width="0%" content="Amount" align="right" mark="$cellMark"></data-grid-column>
                    <data-grid-column header="Name (edit)" content="Name" :editable="true"></data-grid-column>
                    <data-grid-column header="Sum" content="$Sum" align="right" :sort="false"></data-grid-column>
                    <data-grid-column id="cmd"></data-grid-column>
                    <data-grid-column header="??" content="$invalid" :sort="false"></data-grid-column>
                    <template slot="cmd" scope="cell">
                        <button @click.stop.prevent="$dialog('edit', 'catalog/suppliers/edit', cell.row)">
                            <i class="ico-edit"></i>
                        </button>
                        <button @click.stop.prevent="$navigate('catalog/suppliers/edit', cell.row.Id)">
                            <i class="ico-file"></i>
                        </button>
                        <button @click.stop.prevent="$remove(cell.row, 'are you sure?')">
                            <i class="ico-trash"></i>
                        </button>
                        <button @click.stop.prevent="$exec('inc', cell.row, 5)">
                            <i class="ico-folder"></i>
                        </button>
                    </template>
                    <template slot="toolbar" scope="props">
                        <div class="toolbar">
                            <label>data-grid-toolbar</label>
                            <button @click.stop.prevent="Customers.$append()">add</button>
                            <button @click.stop.prevent="$reload()"><i class="ico-refresh"></i> Refresh</button>
                            <button @click.stop.prevent="$requery()"><i class="ico-reload"></i> Requery</button>
                            <button @click.stop.prevent="$exec('test')"><i class="ico-database"></i> exec</button>
                            <button @click.stop.prevent="$dialog('browse', 'catalog/suppliers/browse', Customers.$selected, {order:'Amount', dir:'desc'})"><i class="ico ico-search"></i>Browse dialog</button>
                            <code v-text="parent.filter"></code>
                            <input v-model="parent.filter.Text" />
                            <select v-model="parent.filter.Text">
                                <option value="эле">Элемент</option>
                                <option value="сто">Сто</option>
                            </select>
                            <span class="bold" v-if="parent.filter.Text">Filtered!!!</span>
                        </div>
                    </template>
                    <template slot="pager" scope="props">
                        <b>data-grid-pager</b>
                        <a2-pager :source="parent.pager" />
                    </template>
                </data-grid>
            </div>
            <b>collection view-pager</b>
            <a2-pager :source="parent.pager" />
    </template>
</collection-view>
</div>

